<UserControl
    x:Class="Atc.Wpf.Sample.SamplesWpfComponents.Printing.PrintServiceView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:atc="https://github.com/atc-net/atc-wpf/tree/main/schemas"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:printing="clr-namespace:Atc.Wpf.Sample.SamplesWpfComponents.Printing"
    d:DesignHeight="600"
    d:DesignWidth="800"
    mc:Ignorable="d">

    <UserControl.DataContext>
        <printing:PrintServiceViewModel />
    </UserControl.DataContext>

    <atc:AutoGrid Columns="*" Rows="Auto,*,Auto">

        <GroupBox
            Margin="0,0,0,10"
            Padding="10"
            Header="Features">
            <TextBlock Width="700" TextWrapping="Wrap">
                IPrintService provides MVVM-friendly printing with preview support.
                It handles pagination, scaling, headers/footers, and both Visual and FlowDocument printing.
            </TextBlock>
        </GroupBox>

        <GroupBox Header="Usage">
            <DockPanel Margin="10">

                <atc:UniformSpacingPanel
                    DockPanel.Dock="Left"
                    Orientation="Vertical"
                    Spacing="16">

                    <GroupBox Padding="10" Header="Print Visual">
                        <atc:UniformSpacingPanel
                            ItemWidth="150"
                            Orientation="Horizontal"
                            Spacing="10">
                            <Button
                                Command="{Binding PrintVisualCommand}"
                                CommandParameter="{Binding ElementName=PrintTarget}"
                                Content="Print" />
                            <Button
                                Command="{Binding PrintPreviewVisualCommand}"
                                CommandParameter="{Binding ElementName=PrintTarget}"
                                Content="Print Preview" />
                        </atc:UniformSpacingPanel>
                    </GroupBox>

                    <GroupBox Padding="10" Header="Print with Headers/Footers">
                        <atc:UniformSpacingPanel
                            ItemWidth="150"
                            Orientation="Horizontal"
                            Spacing="10">
                            <Button
                                Command="{Binding PrintWithHeadersCommand}"
                                CommandParameter="{Binding ElementName=PrintTarget}"
                                Content="Print + Headers" />
                            <Button
                                Command="{Binding PreviewWithHeadersCommand}"
                                CommandParameter="{Binding ElementName=PrintTarget}"
                                Content="Preview + Headers" />
                        </atc:UniformSpacingPanel>
                    </GroupBox>

                    <GroupBox Padding="10" Header="Print FlowDocument">
                        <atc:UniformSpacingPanel
                            ItemWidth="150"
                            Orientation="Horizontal"
                            Spacing="10">
                            <Button
                                Command="{Binding PrintFlowDocumentCommand}"
                                Content="Print FlowDoc" />
                            <Button
                                Command="{Binding PreviewFlowDocumentCommand}"
                                Content="Preview FlowDoc" />
                        </atc:UniformSpacingPanel>
                    </GroupBox>

                    <GroupBox Padding="10" Header="Settings">
                        <StackPanel Orientation="Vertical">
                            <CheckBox
                                Margin="0,0,0,8"
                                Content="Landscape"
                                IsChecked="{Binding IsLandscape}" />
                            <StackPanel Orientation="Horizontal">
                                <TextBlock
                                    Margin="0,0,8,0"
                                    VerticalAlignment="Center"
                                    Text="Scale Mode:" />
                                <ComboBox
                                    Width="120"
                                    ItemsSource="{Binding ScaleModes}"
                                    SelectedItem="{Binding SelectedScaleMode}" />
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>

                </atc:UniformSpacingPanel>

                <Border
                    x:Name="PrintTarget"
                    Margin="20,0,0,0"
                    Padding="20"
                    Background="{DynamicResource AtcApps.Brushes.ThemeBackground}"
                    BorderBrush="{DynamicResource AtcApps.Brushes.Gray8}"
                    BorderThickness="1"
                    CornerRadius="4">
                    <StackPanel>
                        <TextBlock
                            FontSize="20"
                            FontWeight="Bold"
                            Foreground="{DynamicResource AtcApps.Brushes.Text}"
                            Text="Sample Print Content" />
                        <TextBlock
                            Margin="0,10,0,0"
                            Foreground="{DynamicResource AtcApps.Brushes.Text}"
                            Text="This panel is the print target. Click the print buttons to print or preview this content."
                            TextWrapping="Wrap" />
                        <Rectangle
                            Height="100"
                            Margin="0,10,0,0"
                            Fill="CornflowerBlue"
                            RadiusX="8"
                            RadiusY="8" />
                        <TextBlock
                            Margin="0,10,0,0"
                            Foreground="{DynamicResource AtcApps.Brushes.Text}"
                            Text="The print framework supports pagination, scaling, headers, footers, and both Visual and FlowDocument printing."
                            TextWrapping="Wrap" />
                    </StackPanel>
                </Border>

            </DockPanel>
        </GroupBox>

        <GroupBox
            Margin="0,10,0,0"
            Padding="10"
            Header="Result Log">
            <ScrollViewer
                MaxHeight="150"
                VerticalScrollBarVisibility="Auto">
                <TextBlock
                    FontFamily="Consolas"
                    Foreground="{DynamicResource AtcApps.Brushes.Text}"
                    Text="{Binding ResultLog}"
                    TextWrapping="Wrap" />
            </ScrollViewer>
        </GroupBox>

    </atc:AutoGrid>

</UserControl>
